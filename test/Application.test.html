#{fixture delete:'all', load:'fixtures.yml' /}

#{selenium}
    // Open the home page, and check that no error occured
    open('/')
    assertNotTitle('Application error')
    
    // check for index page
    assertTitle('MindShare')
  
    // check for text and image
    assertTextPresent('mindShare')
    assertTextPresent('Choose a Template')
    assertTextPresent('Upload a Template')
    verifyElementPresent('//div/div/div/img')
    
    // check for buttons
    assertTextPresent('Upload')
    assertTextPresent('Download')
    assertTextPresent('Next step')
    
    // check for breadcrumb
    assertTextPresent('Choose Template')
    assertTextPresent('Insert Data')
    assertTextPresent('Download')
    //click('step step1 active')
    
    // select option in dropdown list and perform download click
    select('templateChooser', 'C.V.')
    click('download')
    select('templateChooser', 'Makefile')
    click('download')
    select('templateChooser', 'LetterGerman')
    click('download')
    select('templateChooser', 'LetterEnglish')
    click('download')
    select('templateChooser', 'Shell-Script')
    click('download')
    select('templateChooser', 'Word-LetterEnglish')
    click('download')
    
    // click link and check for page
    select('templateChooser', 'C.V.')
    clickAndWait('proceed')
    assertTextPresent('Insert data to your C.V.')
    open('/')
    
    // click link and check for error message
    select('templateChooser', 'no-file')
    clickAndWait('proceed')
    waitForPageToLoad('3000')
    assertTextPresent('The template you have chosen is not existing.')
    
#{/selenium}